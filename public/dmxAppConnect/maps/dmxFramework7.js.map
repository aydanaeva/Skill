{"version":3,"sources":["core/f7.js","actions/f7toast.js","actions/f7dialog.js","actions/f7progress.js","actions/f7preloader.js","components/f7App.js","components/f7View.js","components/f7Page.js","components/f7Popup.js"],"names":["Framework7","alert","dmx","f7","events","init","rootEl","params","Events","f7Params","Object","assign","root","window","routes","length","instance","initialized","emit","once","ready","callback","config","mapping","Actions","f7.toast.show","options","toast","create","destroyOnClose","icon","this","parse","text","position","horizontalPosition","closeButton","closeButtonColor","closeButtonText","closeTimeout","undefined","open","f7.dialog.alert","title","Promise","resolve","dialog","f7.dialog.confirm","self","confirm","then","_exec","else","f7.dialog.prompt","defaultValue","prompt","value","f7.dialog.login","login","username","password","f7.dialog.password","f7.dialog.preloader","color","preloader","f7.dialog.close","close","f7.progressbar.show","progressbar","show","f7.progressbar.set","set","progress","duration","f7.progressbar.hide","hide","f7.preloader.show","f7.preloader.hide","Component","initialData","attributes","name","type","String","default","version","theme","auto-dark-theme","Boolean","methods","msg","showPreloader","hidePreloader","showProgress","setProgress","hideProgress","render","node","props","document","location","search","indexOf","split","id","autoDarkTheme","view","stackPages","$parse","constructor","parent","onPageInit","bind","onPageBeforeRemove","BaseComponent","call","navigate","url","f7View","router","back","refresh","refreshPage","clearHistory","clearPreviousHistory","views","on","onPageReinit","page","child","el","route","children","push","data","dmxComponent","index","findIndex","$node","del","splice","destroy","off","close-on-escape","swipe-to-close","opened","animate","f7Popup","Event","closed","popupParams","dispatchEvent","closeOnEscape","swipeToClose","popup","update"],"mappings":"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","file":"../dmxFramework7/dmxFramework7.js","sourcesContent":["if (!Framework7) {\r\n    alert('Framework7 missing!');\r\n}\r\n\r\ndmx.f7 = {\r\n    events: null,\r\n    init: function(rootEl, params) {\r\n        var events = dmx.f7.events || new Framework7.Events();\r\n        var f7Params = Object.assign({}, params, {\r\n            root: rootEl\r\n        });\r\n\r\n        if (window.routes && window.routes.length && !f7Params.routes) {\r\n            f7Params.routes = routes;\r\n        }\r\n\r\n        var instance = new Framework7(f7Params);\r\n\r\n        if (instance.initialized) {\r\n            events.emit('ready', instance);\r\n        } else {\r\n            instance.once('init', function() {\r\n                events.emit('ready', instance);\r\n            });\r\n        }\r\n\r\n        return instance;\r\n    },\r\n    ready: function(callback) {\r\n        if (!callback) return;\r\n        if (Framework7.instance) {\r\n            callback(Framework7.instance);\r\n        } else {\r\n            dmx.f7.events.once('ready', callback);\r\n        }\r\n    }\r\n}\r\n\r\ndmx.config.mapping['.view'] = 'f7-view';\r\ndmx.config.mapping['.page'] = 'f7-page';\r\ndmx.config.mapping['.popup'] = 'f7-popup';","dmx.Actions({\r\n    'f7.toast.show': function(options) {\r\n        Framework7.instance.toast.create({\r\n            destroyOnClose: true,\r\n            icon: this.parse(options.icon),\r\n            text: this.parse(options.text),\r\n            position: this.parse(options.position) || 'bottom',\r\n            horizontalPosition: this.parse(options.horizontalPosition) || 'left',\r\n            closeButton: !!this.parse(options.closeButton),\r\n            closeButtonColor: this.parse(options.closeButtonColor),\r\n            closeButtonText: this.parse(options.closeButtonText) || 'Ok',\r\n            closeTimeout: this.parse(options.closeTimeout) || undefined\r\n        }).open();\r\n    }\r\n});","dmx.Actions({\r\n    'f7.dialog.alert': function(options) {\r\n        var text = this.parse(options.text);\r\n        var title = this.parse(options.title);\r\n\r\n        return new Promise(function(resolve) {\r\n            Framework7.instance.dialog.alert(text, title, resolve);\r\n        });\r\n    },\r\n\r\n    'f7.dialog.confirm': function(options) {\r\n        var self = this;\r\n        var text = this.parse(options.text);\r\n        var title = this.parse(options.title);\r\n\r\n        return new Promise(function(resolve) {\r\n            Framework7.instance.dialog.confirm(text, title, function() {\r\n                if (options.then) {\r\n                    resolve(self._exec(options.then)).then(function() { return true; });\r\n                } else {\r\n                    resolve(true);\r\n                }\r\n            }, function() {\r\n                if (options.else) {\r\n                    resolve(self._exec(options.else)).then(function() { return false; });\r\n                } else {\r\n                    resolve(false);\r\n                }\r\n            });\r\n        });\r\n    },\r\n\r\n    'f7.dialog.prompt': function(options) {\r\n        var text = this.parse(options.text);\r\n        var title = this.parse(options.title);\r\n        var defaultValue = this.parse(options.defaultValue);\r\n\r\n        return new Promise(function(resolve) {\r\n            Framework7.instance.dialog.prompt(text, title, function(value) {\r\n                resolve(value);\r\n            }, function() {\r\n                resolve(null);\r\n            }, defaultValue);\r\n        });\r\n    },\r\n\r\n    'f7.dialog.login': function(options) {\r\n        var text = this.parse(options.text);\r\n        var title = this.parse(options.title);\r\n\r\n        return new Promise(function(resolve) {\r\n            Framework7.instance.dialog.login(text, title, function(username, password) {\r\n                resolve({\r\n                    username: username,\r\n                    password: password\r\n                });\r\n            }, function() {\r\n                resolve(null);\r\n            });\r\n        });\r\n    },\r\n\r\n    'f7.dialog.password': function(options) {\r\n        var text = this.parse(options.text);\r\n        var title = this.parse(options.title);\r\n\r\n        return new Promise(function(resolve) {\r\n            Framework7.instance.dialog.password(text, title, function(password) {\r\n                resolve(password);\r\n            }, function() {\r\n                resolve(null);\r\n            });\r\n        });\r\n    },\r\n\r\n    'f7.dialog.preloader': function(options) {\r\n        var title = this.parse(options.title);\r\n        var color = this.parse(options.color);\r\n\r\n        Framework7.instance.dialog.preloader(title, color);\r\n    },\r\n\r\n    'f7.dialog.close': function(options) {\r\n        Framework7.instance.dialog.close();\r\n    }\r\n});","dmx.Actions({\r\n    'f7.progressbar.show': function(options) {\r\n        Framework7.instance.progressbar.show(this.parse(options.color));\r\n    },\r\n    \r\n    'f7.progressbar.set': function(options) {\r\n        Framework7.instance.progressbar.set(this.parse(options.progress), this.parse(options.duration));\r\n    },\r\n    \r\n    'f7.progressbar.hide': function(options) {\r\n        Framework7.instance.progressbar.hide();\r\n    }\r\n});","dmx.Actions({\r\n    'f7.preloader.show': function(options) {\r\n        Framework7.instance.preloader.show();\r\n    },\r\n    \r\n    'f7.preloader.hide': function(options) {\r\n        Framework7.instance.preloader.hide();\r\n    }\r\n});","dmx.Component('f7-app', {\r\n\r\n    initialData: {\r\n    },\r\n\r\n    attributes: {\r\n        'name': {\r\n            type: String,\r\n            default: 'Framework7'\r\n        },\r\n\r\n        'version': {\r\n            type: String,\r\n            default: '1.0.0'\r\n        },\r\n\r\n        'theme': {\r\n            type: String,\r\n            default: 'auto'\r\n        },\r\n\r\n        'auto-dark-theme': {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n\r\n        'params': {\r\n            type: Object,\r\n            default: {}\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        alert: function(msg) {\r\n            if (!this.f7) return;\r\n            this.f7.dialog.alert(msg);\r\n        },\r\n\r\n        showPreloader: function(color) {\r\n            if (!this.f7) return;\r\n            this.f7.preloader.show(color);\r\n        },\r\n\r\n        hidePreloader: function() {\r\n            if (!this.f7) return;\r\n            this.f7.preloader.hide();\r\n        },\r\n\r\n        showProgress: function(color) {\r\n            if (!this.f7) return;\r\n            this.f7.progressbar.show(color);\r\n        },\r\n\r\n        setProgress: function(progress, duration) {\r\n            if (!this.f7) return;\r\n            this.f7.progressbar.set(progress, duration);\r\n        },\r\n\r\n        hideProgress: function(color) {\r\n            if (!this.f7) return;\r\n            this.f7.progressbar.hide();\r\n        }\r\n    },\r\n\r\n    render: function (node) {\r\n        var theme = this.props.theme;\r\n        if (theme == 'auto' && document.location.search.indexOf('theme=') >= 0) {\r\n            theme = document.location.search.split('theme=')[1].split('&')[0];\r\n        }\r\n        \r\n        this.f7 = dmx.f7.init(node, Object.assign(this.props.params, {\r\n            id: 'io.framework7.' + this.name,\r\n            name: this.props.name,\r\n            version: this.props.version,\r\n            theme: theme,\r\n            autoDarkTheme: this.props['auto-dark-theme'],\r\n            view: {\r\n                stackPages: true\r\n            }\r\n        }));\r\n\r\n        this.$parse();\r\n    }\r\n\r\n});","dmx.Component('f7-view', {\r\n\r\n    constructor: function (node, parent) {\r\n        this.onPageInit = this.onPageInit.bind(this);\r\n        this.onPageBeforeRemove = this.onPageBeforeRemove.bind(this);\r\n\r\n        dmx.BaseComponent.call(this, node, parent);\r\n    },\r\n\r\n    methods: {\r\n\r\n        navigate: function (url, options) {\r\n            if (this.f7View.router) {\r\n                this.f7View.router.navigate(url, options);\r\n            }\r\n        },\r\n\r\n        back: function (url, options) {\r\n            if (this.f7View.router) {\r\n                this.f7View.router.back(url, options);\r\n            }\r\n        },\r\n\r\n        refresh: function() {\r\n            if (this.f7View.router) {\r\n                this.f7View.router.refreshPage();\r\n            }\r\n        },\r\n\r\n        clearHistory: function() {\r\n            if (this.f7View.router) {\r\n                this.f7View.router.clearPreviousHistory();\r\n            }\r\n        }\r\n\r\n    },\r\n\r\n    render: function (node) {\r\n        this.f7View = Framework7.instance.views.create(node);\r\n        this.f7View.on('pageInit', this.onPageInit);\r\n        this.f7View.on('pageReinit', this.onPageReinit);\r\n        this.f7View.on('pageBeforeRemove', this.onPageBeforeRemove);\r\n\r\n        this.$parse();\r\n    },\r\n\r\n    onPageInit: function (page) {\r\n        var Component = dmx.Component('f7-page');\r\n        var child = new Component(page.el, this);\r\n        child.set('route', page.route);\r\n        this.children.push(child);\r\n        this.set(child.name, child.data);\r\n        page.dmxComponent = child;\r\n    },\r\n\r\n    onPageReinit: function (page) {\r\n        if (page.dmxComponent) {\r\n            page.dmxComponent.set('route', page.route);\r\n        }\r\n    },\r\n\r\n    onPageBeforeRemove: function (page) {\r\n        var index = this.children.findIndex(function (child) {\r\n            return child.$node == page.el;\r\n        });\r\n        if (index != -1) {\r\n            this.del(this.children[index].name);\r\n            this.children.splice(index, 1);\r\n        }\r\n    },\r\n\r\n    destroy: function () {\r\n        if (this.f7View) {\r\n            this.f7View.off('pageInit', this.onPageInit);\r\n            this.f7View.off('pageReinit', this.onPageReinit);\r\n            this.f7View.off('pageBeforeRemove', this.onPageBeforeRemove);\r\n            if (this.f7View.destroy) this.f7View.destroy();\r\n        }\r\n    }\r\n\r\n});","dmx.Component('f7-page', {\r\n\r\n    initialData: {\r\n        route: null\r\n    },\r\n\r\n    render: function (node) {\r\n        this.$parse();\r\n    }\r\n\r\n});","dmx.Component('f7-popup', {\r\n\r\n    attributes: {\r\n        'close-on-escape': {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n\r\n        'swipe-to-close': {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n\r\n        'opened': {\r\n            type: Boolean,\r\n            default: false\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        open: function(animate) {\r\n            if (!this.f7Popup) return;\r\n            this.f7Popup.open(animate);\r\n        },\r\n\r\n        close: function(animate) {\r\n            if (!this.f7Popup) return;\r\n            this.f7Popup.close(animate);\r\n        }\r\n    },\r\n\r\n    events: {\r\n        open: Event,\r\n        opened: Event,\r\n        close: Event,\r\n        closed: Event\r\n    },\r\n\r\n    render: function (node) {\r\n        var popupParams = {\r\n            el: node,\r\n            on: {\r\n                open: this.dispatchEvent.bind(this, 'open'),\r\n                opened: this.dispatchEvent.bind(this, 'opened'),\r\n                close: this.dispatchEvent.bind(this, 'close'),\r\n                closed: this.dispatchEvent.bind(this, 'closed')\r\n            },\r\n            closeOnEscape: this.props['close-on-escape'],\r\n            swipeToClose: this.props['swipe-to-close']\r\n        };\r\n\r\n        var self = this;\r\n        dmx.f7.ready(function(f7) {\r\n            self.f7Popup = f7.popup.create(popupParams);\r\n            if (self.props.opened) {\r\n                self.f7Popup.open(false);\r\n            }\r\n        });\r\n\r\n        this.$parse();\r\n    },\r\n\r\n    update: function(props) {\r\n        if (props.opened != this.props.opened) {\r\n            if (this.props.opened) {\r\n                this.f7Popup.open();\r\n            } else {\r\n                this.f7Popup.close();\r\n            }\r\n        }\r\n    },\r\n\r\n    destroy: function() {\r\n        if (this.f7Popup) {\r\n            this.f7Popup.destroy();\r\n            this.f7Popup = undefined;\r\n        }\r\n    }\r\n\r\n});"]}